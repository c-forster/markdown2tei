
# markdown2tei

This is, essentially, a bash wrapper around a custom pandoc writer and template, a simple regular expression (using `sed`), and an XSL script. It will convert a markdown file to an XML file conforming to the TEI Lite standard. Issues / pull requests, welcomed.

## Requirements

In order to run, this script depends on:

- [pandoc](http://pandoc.org)
- `sed`
- `xsltrpoc`

## Header Fields

For now, this script recognizes a limited subset of elements for a TEI header. These are all essentailly translated into fields in the `tei-lite.template` file using the pandoc template system. (Linkes below will take one to the documentation for [TEI Lite](http://www.tei-c.org/Guidelines/Customization/Lite/).) The fields currently implemeneted privilege metadata related to document transcription---they provide fields, therefore, for author/title of the electronic file as well as fields for a bibliographic citation of its source, a list of editors, and information about sources.

Currently, it requires only:

- [title](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#title): A title for the document. (For the [titleStmt](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#titleStmt).)
- [author](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#author): at least one author. Each author's name is stored as two variables: `forename` and `surname`. [titleStmt](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#titleStmt).)

Additionally, it also recognizes the optional fields:
- [editor](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#editor): One or more "editors."
- [publicationStmt](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#publicationStmt): Some prose describing the publication/distribution, contained in the `publicationStmt`. If no `publicationStmt` is provided, the template inserts simply, "Generated by pandoc.


The following (optional) fields are all stored as part of a bibliographic entry ([bibl](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#bibl)) under the source description ([sourceDesc](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#sourceDesc)).
- citation.title: Stored as `<title level='a'>`, that is, as an analytic title. 
- citation.container-title: For works (essays, articles, etc) which originally appeared as part of a larger work, `container-title` contains the name of the larger work. It is stored in the TEI header as `<title>`. 
- citation.date: A [date](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#date), presumably of publication. Format is not specified.
- citation.publisher: A [publisher](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#publisher).
- citation.publisher-place: Place of publication, stored as [pubPlace](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#pubPlace).
- citation.page: A page range, stored as [biblScope](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#biblScope).

Any sources used for a document or transcription can be described as one or more `source`s. These will be stored in a list.

Finally, one can describe the source for a document in unstructured prose in the `citation.note` field, which is converted to a [`<p>`](http://www.tei-c.org/release/doc/tei-p5-exemplars/html/tei_lite.doc.html#p) under the sourceDesc.

Additional metadata fields in the YAML header will simply be ignored. There is currently validation done on the header, so invalid field names or other problems will simply be passed over (unless they generate a YAML error). In principle, anything possibile in a TEI Lite header should be capable of being represented in YAML.
